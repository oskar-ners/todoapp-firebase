<!-- Let's assume that in this application it serves as a nav -->
@if (!isToDoVisible) {
<div class="menu-nav">
    <div class="menu-nav-toggle"
         (click)="isToDoVisible = !isToDoVisible">
        <i class="fa-solid fa-arrow-up-right-from-square menu-nav-toggle-icon"></i>
        <span class="menu-nav-toggle-text">Show to do app</span>
    </div>
    <div class="menu-nav-weather"
         routerLink="/weather">
        <i class="fa-solid fa-cloud menu-nav-weather"></i>
        <span class="menu-nav-toggle-text">Show weather</span>
    </div>
    <div class="menu-nav-profile-link"
         routerLink="/profile">
        <i class="fa-solid fa-user menu-nav-profile-link-icon"></i>
        <span class="menu-nav-profile-text">
            <span class="menu-nav-profile-text-name">{{firebaseAuth.currentUser?.displayName | titlecase}}</span>
            Profile
        </span>
    </div>
</div>
}

<!-- To do app -->
@if(isToDoVisible) {
<div class="todo-container">
    <i class="fa-solid fa-xmark todo-container-close-btn"
       (click)="isToDoVisible = !isToDoVisible"></i>
    <app-add-task></app-add-task>
    <div class="filter-buttons">
        <button class="filter-buttons-btn"
                (click)="filterList('all')">All</button>
        <button class="filter-buttons-btn"
                (click)="filterList('overdue')">Overdue</button>
    </div>
    <h1 class="todo-container-h1">Your tasks list: ({{todoList.length}})</h1>
    @for(todo of todoList; track todo.task; let i = $index) {
    <div class="todo-container-task-item"
         (dblclick)="todo.isEditing = !todo.isEditing">
        @if (todo.isEditing) {
        <app-edit-task class="todo-container-task-item-edit-task"
                       [toDoId]="i"></app-edit-task>
        }
        @if (!todo.isEditing) {
        <p [ngClass]="{'line-through' : todo.isCompleted}"
           class="todo-container-task-item-task-text">
            {{i + 1}}. {{todo.task}} - {{todo.priority | titlecase}} - {{todo.deadlineDate.toDate() | date: 'MMMM d,y'}}
        </p>
        <div class="todo-container-task-item-buttons">
            <app-remove-task [toDoId]="i"></app-remove-task>
            <app-task-done [toDoId]="i"
                           [isCompleted]="todo.isCompleted"></app-task-done>
        </div>
        }
    </div>
    }
    <p [ngStyle]="{'margin-top': todoList.length === 0 ? '10px' : ''}"
       class="todo-container-edit-info">Want to edit a task? Double-click on it!</p>
</div>
}
