@if (!isToDoVisible) {
<div class="menu-nav">
    <div class="menu-toggle"
         (click)="isToDoVisible = !isToDoVisible">
        <i class="fa-solid fa-arrow-up-right-from-square"></i>
        <span class="menu-text">Show to do app</span>
    </div>
    <div class="profile-link"
         routerLink="/profile">
        <i class="fa-solid fa-user"></i>
        <span class="profile-text">
            <span class="profile-name">{{firebaseAuth.currentUser?.displayName}}</span>
            Profile
        </span>
    </div>
</div>
}

<!-- TO DO APP -->
@if(isToDoVisible) {
<div class="todo-container">
    <i class="fa-solid fa-xmark close-btn"
       (click)="isToDoVisible = !isToDoVisible"></i>
    <app-add-task></app-add-task>
    <div class="filter-buttons">
        <button class="btn"
                (click)="filterList('all')">All</button>
        <button class="btn"
                (click)="filterList('overdue')">Overdue</button>
    </div>
    <h1 class="todo-header">Your tasks list: ({{todoList.length}})</h1>
    @for(todo of todoList; track todo.task; let i = $index) {
    <div class="task-item"
         (dblclick)="todo.isEditing = !todo.isEditing">
        @if (todo.isEditing) {
        <app-edit-task class="edit-task"
                       [toDoId]="i"></app-edit-task>
        }
        @if (!todo.isEditing) {
        <p [ngClass]="{'line-through' : todo.isCompleted}"
           class="task-text">
            {{i + 1}}. {{todo.task}} - {{todo.date.toDate() | date: 'dd/MM/yyyy'}}
        </p>
        <app-remove-task [toDoId]="i"></app-remove-task>
        <app-task-done [toDoId]="i"
                       [isCompleted]="todo.isCompleted"></app-task-done>
        }
    </div>
    }
    <span class="edit-info">Want to edit a task? Double-click on it!</span>
</div>
}
